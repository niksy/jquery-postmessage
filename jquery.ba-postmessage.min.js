/*
 * jQuery postMessage - v0.5.1 - 7/26/2014
 * http://benalman.com/projects/jquery-postmessage-plugin/
 *
 * Copyright (c) 2009 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
!function(e){"$:nomunge";var n,t,a,i,o=1,r=this,s=!1,c="postMessage",u="addEventListener",l=r[c];e[c]=function(n,t,a){t&&(n="string"==typeof n?n:e.param(n),a=a||parent,l?a[c](n,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(a.location=t.replace(/#.*$/,"")+"#"+ +new Date+o++ +"&"+n))},e.receiveMessage=i=function(o,c,p){l?(o&&(a&&i(),a=function(n){return n.domain&&(c=c.split("://")[1],n.origin=n.domain),"string"==typeof c&&n.origin!==c||e.isFunction(c)&&c(n.origin)===s?s:void o(n)}),r[u]?r[o?u:"removeEventListener"]("message",a,s):r[o?"attachEvent":"detachEvent"]("onmessage",a)):(n&&clearInterval(n),n=null,o&&(p="number"==typeof c?c:"number"==typeof p?p:100,n=setInterval(function(){var e=document.location.hash,n=/^#?\d+&/;e!==t&&n.test(e)&&(t=e,o({data:e.replace(n,"")}))},p)))}}(jQuery);
